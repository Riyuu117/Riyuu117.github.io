<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>第四章 IP协议</title>
      <link href="/2021/10/24/%E7%AC%AC%E5%9B%9B%E7%AB%A0%20IP%E5%8D%8F%E8%AE%AE/"/>
      <url>/2021/10/24/%E7%AC%AC%E5%9B%9B%E7%AB%A0%20IP%E5%8D%8F%E8%AE%AE/</url>
      
        <content type="html"><![CDATA[<img src="/img/图解TCP&IP/chapter4/思维导图.jpg" alt="思维导图" style="zoom:50%;" /><h1 id="IP基础知识"><a href="#IP基础知识" class="headerlink" title="IP基础知识"></a>IP基础知识</h1><h2 id="IP即网际协议"><a href="#IP即网际协议" class="headerlink" title="IP即网际协议"></a>IP即网际协议</h2><p>IP协议：即网际协议。TCP/IP协议的<strong>互联网层</strong>，主要是由<strong>IP</strong>（Internet Protocol）和<strong>ICMP</strong>（Internet Conttrol Message Protocol）这两个协议组成。</p><p>IP（IPv4,IPv6）相当与OSI参考模型中的<strong>第三层网络层</strong>。作用为实现<strong>终端节点之间的通信</strong>，也称<strong>点对点（end -to- end）通信</strong>。数据链路层的作用是在互联的同一中数据链路的节点之间进行包的传递，而一旦跨越多种数据链路，就需要借助网络层，网络层可以<strong>跨越不同的数据链路</strong>，<strong>即使是在不同的数据链路层上亦可以实现两个终端节点的数据包传输</strong>。</p><img src="/img/图解TCP&IP/chapter4/IP的作用.jpg" style="zoom:50%;" /><blockquote><p><strong>概念辨析：主机、路由器、节点</strong></p><p>注：路由控制（Routing）：中转分组数据包</p><ul><li>主机：配备<strong>有IP地址</strong>，但<strong>不进行路由控制</strong>的设备</li><li>路由器：<strong>既配有IP地址又配有路由控制</strong>能力的设备</li><li>节点：主机和路由器的<strong>统称</strong></li></ul></blockquote><h1 id="IP协议三大功能"><a href="#IP协议三大功能" class="headerlink" title="IP协议三大功能"></a>IP协议三大功能</h1><h2 id="寻址：IP地址的基础知识（IPv4）"><a href="#寻址：IP地址的基础知识（IPv4）" class="headerlink" title="寻址：IP地址的基础知识（IPv4）"></a>寻址：IP地址的基础知识（IPv4）</h2><h3 id="IP地址属于网络层地址"><a href="#IP地址属于网络层地址" class="headerlink" title="IP地址属于网络层地址"></a>IP地址属于网络层地址</h3><p>数据链路层的MAC地址用来标识同一链路中不同计算机的一种识别码，网络层IP地址用于在”<strong>连接到网络的所有主机识别出进行通信的目标地址</strong>“。</p><p> 在TCP/IP通信中，所有的主机或路由器都必须设定自己的IP地址。<strong>IP地址的形式不会被改变</strong>，在<strong>网桥或交换集线器等物理层或数据链路层数据包转发设备上，不需要设置IP地址</strong>。</p><img src="/img/图解TCP&IP/chapter4/IP地址.jpg" style="zoom:50%;" /><h3 id="IP地址的定义"><a href="#IP地址的定义" class="headerlink" title="IP地址的定义"></a>IP地址的定义</h3><p>在TCP/IP 通信时，使用IP地址识别<strong>主机</strong>和<strong>路由器</strong></p><ul><li>用<strong>32位正整数</strong>表示</li><li><strong>每8位分成一组，共分成四组，每组用 “.” 隔开</strong></li><li>再将二进制转换成<strong>十进制</strong></li></ul><p><img src="/img/%E5%9B%BE%E8%A7%A3TCP&IP/chapter4/IP%E5%9C%B0%E5%9D%80%E5%AE%9A%E4%B9%89.jpg"></p><p><strong>每一台主机上的每一块网卡（NIC）都需要设置IP地址。</strong>通常<strong>一块网卡只配置一个IP地址</strong>，但可以设置多个IP地址；<strong>一台路由器通常配置两个以上的网卡</strong>。</p><img src="/img/图解TCP&IP/chapter4/IP配置.jpg" style="zoom:50%;" /><p>IP地址由<strong>网络标识（网络地址）和主机标识（主机地址）</strong>两部分标识组成：<strong>网络标识在数据链路的每个段配置不同的值，网络标识必须保证相互连接的每个段的地址不能重复。相同网段内的相连的主机必须有相同的网络地址，IP地址的“主机标识”则不允许在同一个网段内重复出现</strong>。</p><img src="/img/图解TCP&IP/chapter4/IP地址的主机标识.jpg" style="zoom:50%;" /><h3 id="IP地址的分类"><a href="#IP地址的分类" class="headerlink" title="IP地址的分类"></a>IP地址的分类</h3><p>根据IP地址中从<strong>第1位到第4位的比特列</strong>对其网络标识和主机标识进行区分：</p><img src="/img/图解TCP&IP/chapter4/IP地址的分类.jpg" style="zoom:50%;" /><blockquote><p>其中<strong>D类地址没有主机标识</strong>，常被用于<strong>多播</strong>。</p></blockquote><p><strong>注意事项</strong>：</p><ul><li><strong>主机标识全为0：表示对应的网络地址或IP地址不可获知的情况下使用</strong>。</li><li><strong>主机标识全为1：通常用作广播地址。</strong></li></ul><p>因此，<strong>表示主机地址范围时应该减去上述2个特殊情况！</strong></p><h4 id="广播地址"><a href="#广播地址" class="headerlink" title="广播地址"></a>广播地址</h4><p>网络层：<strong>IP地址中主机地址部分全部设置为 1</strong> </p><p>数据链路层：广播的IP包以数据链路的帧形式发送时，<strong>MAC地址所有位设置为1，即FF: FF: FF: FF: FF: FF</strong> </p><img src="/img/图解TCP&IP/chapter4/广播地址.jpg" style="zoom:50%;" alt="IP为172.20.0.0/16的广播地址"/><h4 id="IP多播"><a href="#IP多播" class="headerlink" title="IP多播"></a>IP多播</h4><p>IP多播：既可以<strong>穿透路由器</strong>，又可以实现只给<strong>特定组</strong>发送数据包，达到<strong>同时发送提高效率</strong>。</p><img src="/img/图解TCP&IP/chapter4/多播.jpg" style="zoom:50%;" /><p>多播地址：采用<strong>D类地址</strong>，后面28位表示组编号。</p><img src="/img/图解TCP&IP/chapter4/多播地址.jpg" style="zoom:50%;" /><blockquote><p>多播地址可用范围：224.0.0.0到239.255.255.255，其中224.0.0.0到224.0.0.255默认属于同一链路</p></blockquote><h3 id="子网掩码"><a href="#子网掩码" class="headerlink" title="子网掩码"></a>子网掩码</h3><p>IP地址分类的缺点：网络标识<strong>长度受分类限制、固定，分配的地址一般用不完，因而造成资源浪费</strong>。</p><p>子网掩码：</p><ul><li><p><strong>自由定位网络标识长度</strong></p></li><li><p>通过子网掩码将原来的A类、B类、C类等分类中<strong>主机地址部分用作子网地址</strong>，可将原网络分成多个物理网络的一种机制</p></li><li><p>所以IP地址有两种识别码：IP地址本身和表示网络内部的子网掩码</p></li></ul><h4 id="子网掩码的两种表示方式"><a href="#子网掩码的两种表示方式" class="headerlink" title="子网掩码的两种表示方式"></a>子网掩码的两种表示方式</h4><p><strong>方法一：将子网掩码与IP地址分别用两行表示</strong></p><img src="/img/图解TCP&IP/chapter4/子网掩码1.png" style="zoom: 80%;" /><blockquote><p>⭐<strong>考点：已知 ”IP地址/子网掩码“ 求子网掩码、网络地址、广播地址</strong></p><p><strong>子网掩码：/26 –&gt; 192=11000000</strong> </p><p><strong>网络地址：52=00110100—&gt; 0</strong>  （!=192）</p><p><strong>广播地址：52=00110100—&gt;  00111111=63</strong></p></blockquote><p><strong>方法二：在每个IP地址的后面追加网络地址的位数，用“/”号隔开</strong></p><p>记述网络地址时可省略后面的0</p><img src="/img/图解TCP&IP/chapter4/子网掩码2.jpg" style="zoom:80%;" /><img src="/img/图解TCP&IP/chapter4/子网掩码灵活设置.jpg" style="zoom:50%;" /><h4 id="⭐CIDR与VLSM"><a href="#⭐CIDR与VLSM" class="headerlink" title="⭐CIDR与VLSM"></a>⭐CIDR与VLSM</h4><p>CIDR和VLSM可以<strong>缓解全局IP地址不够用的问题</strong>，但是无法彻底解决，所以要IPv6</p><p>CLDR：</p><ul><li>无类域间选路 （Classless inter-Domain Routing）</li><li>采用<strong>任意长度分割IP地址的网络标识和主机标识</strong></li><li>任意长的连续多个地址都可以划分到一个较大的网络内</li><li>能够有效利用当前IPv4地址，同时降低路由器的负担</li></ul><p>⭐<strong>考点：地址合并成同一个网络</strong> </p><p>例如：应用CIDR将 <strong>203.183.224.1 ~  203.183.225.254</strong> 的地址合为同一个网络，求该网络的网络地址？主机地址的范围？</p><blockquote><p><strong>Answer：203.183.224.0/23  、 203.183.224.1 ~203.183.225.254</strong></p></blockquote><img src="/img/图解TCP&IP/chapter4/地址合并.jpg" style="zoom:50%;" /><p>VLSM：</p><ul><li>可变长子网掩码（ Variable-Length Subnet Masks）</li><li>可以<strong>随机修改组织内各个部门的子网掩码长度的机制</strong></li><li>可以通过域间路由协议转换成RIP2和OSPF实现</li><li>理论上能将IP地址的利用率提高50%</li></ul><h3 id="全局地址与私有地址"><a href="#全局地址与私有地址" class="headerlink" title="全局地址与私有地址"></a>全局地址与私有地址</h3><p><strong>全局地址：</strong></p><ul><li>需要在<strong>整个互联网范围内保持唯一</strong></li><li>除去私有地址之外的都是全局地址</li><li>全局地址由ICANN统一进行管理</li></ul><p><strong>私有地址：</strong></p><ul><li><p><strong>在同一域内保持唯一即可</strong></p></li><li><p>私有地址的范围：</p><img src="/img/图解TCP&IP/chapter4/私有地址.jpg" style="zoom:80%;" /></li><li><p><strong>不同域内出现相同的私有地址不会影响使用</strong></p></li><li><p>私有地址结合<strong>NAT技术</strong>成为解决IP地址分配的主流解决方案</p><img src="/img/图解TCP&IP/chapter4/全局IP与私有IP.jpg" style="zoom: 50%;" /></li></ul><h2 id="路由控制"><a href="#路由控制" class="headerlink" title="路由控制"></a>路由控制</h2><h3 id="基础知识"><a href="#基础知识" class="headerlink" title="基础知识"></a>基础知识</h3><ul><li><p>路由控制（Routing）：<strong>中转分组数据的功能</strong>；</p></li><li><p>跳（Hop）：主机或路由器网卡<strong>不经过其他路由器而能够直接到达</strong>的相邻主机或路由器网卡直接的一个区间；</p></li><li><p>多跳路由（IP路由）：路由器或者主机在转发IP数据包时<strong>只指定下一个路由器或主机，而不是将最终目标地址为止的所有通路表示出来</strong>；</p></li><li><p><strong>路由控制表</strong>（Routing Table）：指明路由器或主机信息，是路由控制的核心</p><p>​           形式：</p><ul><li>静态路由控制：管理员手动设置。</li><li><strong>动态路由控制：路由器与其他路由器相互交换信息时自动刷新，依赖路由协议（RIP、OSPF、BGP）</strong></li></ul></li></ul><h3 id="IP地址与路由控制"><a href="#IP地址与路由控制" class="headerlink" title="IP地址与路由控制"></a>IP地址与路由控制</h3><p>特征：</p><ul><li>IP地址的<strong>网络部分</strong>用于进行路由控制 （满足最长匹配规则）；</li><li><strong>数据报中的源IP地址和目标IP地址始终不变</strong>；</li><li>下一个路由器的地址为<strong>路由器网卡（接口）的IP地址</strong>，只要目标地址与该网卡IP地址属于<strong>同一网段</strong>即可完成<strong>同一链路转发</strong>。</li></ul><img src="/img/图解TCP&IP/chapter4/路由控制.jpg" style="zoom:50%;" /><p>**默认路由(Default Route)**：</p><ul><li><p>路由表中任何一个地址都能与之匹配的记录；</p></li><li><p>一般标记为<strong>0.0.0.0/0或者default</strong>，表示没有标识IP地址。</p><blockquote><p>区分：0.0.0.0的IP地址为0.0.0.0/32</p></blockquote></li></ul><p>**主机路由(Host Route)**：</p><ul><li>“<strong>IP地址/32</strong>”被称为主机路由；</li><li>主机路由是指<strong>整个IP地址的所有位都将参与路由</strong>；</li><li>主机路由常用于不希望通过网络地址路由的情况；</li><li>缺点：容易导致路由表膨胀，增加路由负荷。</li></ul><p><strong>环回地址</strong>（默认主机地址）：</p><ul><li><strong>同一台计算机上的程序直接进行网络通信，数据包不会流向网络；</strong></li><li><strong>127.0.0.1 或 localhost主机名</strong></li></ul><h3 id="路由控制表的聚合"><a href="#路由控制表的聚合" class="headerlink" title="路由控制表的聚合"></a>路由控制表的聚合</h3><p><strong>路由表的聚合（Aggregation）将已知的路由信息传送给周围其他的路由器，以达到控制路由信息、减少路由表条目的目的</strong></p><img src="/img/图解TCP&IP/chapter4/聚合.jpg" style="zoom:50%;" /><h2 id="分组与重组"><a href="#分组与重组" class="headerlink" title="分组与重组"></a>分组与重组</h2><h3 id="数据链路的抽象化"><a href="#数据链路的抽象化" class="headerlink" title="数据链路的抽象化"></a>数据链路的抽象化</h3><p><strong>不同数据链路有不同的最大传输单位（MTU）</strong>，为了实现路由器跨数据链路传输，需要对<strong>IP进行分片处理（IP Fragmentation）</strong>。</p><p><strong>根据不同数据链路的使用目的不同，MTU也不同</strong>。（以太网MTU=1500）</p><p>MTU越大，IP碎片越小，因此可用适当扩大路由器或网桥上的MTU值。</p><img src="/img/图解TCP&IP/chapter4/MTU.jpg" style="zoom:50%;" /><h3 id="IP报文的分片与重组"><a href="#IP报文的分片与重组" class="headerlink" title="IP报文的分片与重组"></a>IP报文的分片与重组</h3><p>特点：</p><ul><li><strong>路由器负责分片</strong>；</li><li>只能由<strong>目标主机进行重组</strong>；</li><li>IP首部设置一个<strong>标识码</strong>，区别分片属于哪个组；</li><li>IP首部还设置一个片偏移，判断分片的相对位置和是否还有后续分片。</li></ul><img src="/img/图解TCP&IP/chapter4/IP报文与分组.jpg" style="zoom:50%;" /><blockquote><p>由于<strong>加重路由器负荷</strong>，<strong>不推荐使用！</strong></p></blockquote><h3 id="路径MTU发现"><a href="#路径MTU发现" class="headerlink" title="路径MTU发现"></a>路径MTU发现</h3><p>特点：</p><p><strong>路径MTU：路径中存在的所有数据链路中最小的MTU；</strong></p><p><strong>只能由发送主机分片，由目标主机重组</strong>，避免中途路由器分片处理。</p><p><strong>UDP情况下</strong>：</p><p><strong>因为不需要建立连接，由网络层进行分片</strong></p><img src="/img/图解TCP&IP/chapter4/UDP.jpg" style="zoom:50%;" /><p>TCP情况下：</p><p><strong>因为需要建立连接，由传输层进行分片</strong></p><img src="/img/图解TCP&IP/chapter4/TCP.jpg" style="zoom:50%;" /><h1 id="版本"><a href="#版本" class="headerlink" title="版本"></a>版本</h1><h2 id="IPv4"><a href="#IPv4" class="headerlink" title="IPv4"></a>IPv4</h2><h3 id="IPv4首部"><a href="#IPv4首部" class="headerlink" title="IPv4首部"></a>IPv4首部</h3><img src="/img/图解TCP&IP/chapter4/IPv4首部.jpg" style="zoom:50%;" /><ul><li><p>版本号：指定IP协议的版本，对于IPV4来说，值为4；</p></li><li><p>首部长度：标识该IP头部有多少个32bit（4字节）；</p></li><li><p>区分服务（TOS type ofserverice）由8比特组成，表明服务质量；</p></li><li><p>DSCP段：差分服务代码点 （differential services codepoint），用来进行质量控制；</p><p>ECN段：显式拥塞通告（explicit congestion notification），用来报告网络拥堵情况，由2bit构成；</p></li><li><p>16位总长度，指的是<strong>整个IP数据报的长度</strong>，以字节为单位;</p></li><li><p>16位<strong>标识</strong>，用于<strong>分片重组</strong>，<strong>标识数据属于哪个组</strong>。</p></li><li><p>3位<strong>标志</strong>，表示包被分片的信息，例如<strong>是否进行分片、是否为最后一个包</strong>。</p></li><li><p>13位片偏移（fragment），由13比特构成，用来标识被分片的每一分段相对于原始数据的位置;</p></li><li><p>8位<strong>生存时间TTL</strong>（time to live），由8比特构成，秒为单位，<strong>指可以中转多少个路由器</strong>。</p></li><li><p>8位协议，来<strong>区分上层协议</strong>；</p></li><li><p><strong>首部校验和</strong>：由发送端填充，接收端对其使用<strong>CRC算法</strong>以检验IP数据报头部在传输过程中是否被损坏。只校验数据报的首部，不校验数据部分，<strong>主要用来确保IP地址数据报不被破坏</strong>；</p></li><li><p>可选项：长度可变，通常只进行实验和诊断时使用，最多包含40字节的信息。</p></li></ul><h2 id="IPv6"><a href="#IPv6" class="headerlink" title="IPv6"></a>IPv6</h2><h3 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h3><ul><li><strong>IP地址的扩大</strong>与路由控制表的聚合;</li><li>性能提升：<br><strong>包首部长度采用固定值</strong>，不再采用首部检验码;<br>简化首部结构，减轻路由器负荷，路由器不再做分片处理;</li><li>支持即插即用：<br>即使没有DHCP功能也可以实现<strong>自动分配IP地址</strong>。</li><li>采用<strong>认证与加密功能</strong>：<br>对伪造IP地址的网络安全功能以及防止线路窃听功能;</li><li>多播、Moblie IP成为扩展功能</li></ul><h3 id="地址表示"><a href="#地址表示" class="headerlink" title="地址表示"></a>地址表示</h3><ul><li>IPv6地址长<strong>128bit</strong>，<strong>一般写成8个16位字节</strong>；</li><li>每16比特为一组，用冒号（“ ：”）隔开标记；</li><li>可用二进制或<strong>十六进制</strong>的数表示；</li><li>出现<strong>连续0</strong>的时候，可以<strong>将0省略</strong>，并用<strong>两个冒号（“ :: ”）</strong>隔开；</li><li>一个IP地址中<strong>只能出现一次两个连续的冒号</strong>。</li></ul><img src="/img/图解TCP&IP/chapter4/IPv6地址.png" style="zoom: 80%;" /><h3 id="地址结构"><a href="#地址结构" class="headerlink" title="地址结构"></a>地址结构</h3><p>类似IPv4，IPv6可以根据<strong>IP地址前几位标识IP地址的种类</strong>。可以分为<strong>全局单播地址、链路本地单播地址、唯一本地地址</strong>。</p><img src="/img/图解TCP&IP/chapter4/IPv6结构.jpg" style="zoom:67%;" /><h4 id="全局单播地址"><a href="#全局单播地址" class="headerlink" title="全局单播地址"></a>全局单播地址</h4><p>特点：<strong>互联网通信</strong></p><img src="/img/图解TCP&IP/chapter4/全局单播.jpg" style="zoom:50%;" /><h4 id="链路本地单播地址"><a href="#链路本地单播地址" class="headerlink" title="链路本地单播地址"></a>链路本地单播地址</h4><p>特点：<strong>同一数据链路内通信</strong></p><img src="/img/图解TCP&IP/chapter4/链路本地.jpg" style="zoom:50%;" /><h4 id="唯一本地地址"><a href="#唯一本地地址" class="headerlink" title="唯一本地地址"></a>唯一本地地址</h4><p>特点：<strong>不进行互联网通信的私有网络（不联网、NAT或代理联网）</strong></p><img src="/img/图解TCP&IP/chapter4/唯一本地.jpg" style="zoom:50%;" /><h3 id="IPv6首部"><a href="#IPv6首部" class="headerlink" title="IPv6首部"></a>IPv6首部</h3><img src="/img/图解TCP&IP/chapter4/IPv6首部.png" style="zoom: 67%;" /><ul><li>4位版本号：指定IP协议的版本，对IPv6来说为6。</li><li>8位通信类量：相当于IPv4中TOS字段，表示数据流通信类型或优先级。</li><li>20位流标号：是IPv6新增的字段，用于某些对连接的服务质量有特殊要求的通信，比如音频或视频实时数据传输。</li><li>16位<strong>有效载荷长度</strong>：有效载荷是指<strong>包的数据部分</strong>，等于<strong>扩展头部和应用程序数据长度之和</strong>，不包括固定头部长度。</li><li>8位<strong>下一个首部</strong>：指出今个IPv6固定头部后的包头类型，如<strong>扩展头或者某个上层协议头</strong>，类似于IPv4当中的协议字段。</li><li>8位<strong>跳数限制</strong>：<strong>表示可通过路由器的个数</strong>。</li></ul><p><strong>拓展首部</strong>：</p><ul><li><p><strong>IPv6首部长度固定，无法将可选项加入其中，所以通过扩展首部对功能进行有效扩展；</strong></p></li><li><p>扩展首部位于IPv6首部与TCP/UDP首部中间；</p></li><li><p>扩展首部可选项长度没有限制；</p></li><li><p>示例</p><p><img src="/img/%E5%9B%BE%E8%A7%A3TCP&IP/chapter4/%E6%8B%93%E5%B1%95.png"></p></li><li><p>常用扩展首部表：</p><img src="/img/图解TCP&IP/chapter4/拓展首部表.png" style="zoom:67%;" /></li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>第三章 数据链路</title>
      <link href="/2021/10/19/%E7%AC%AC%E4%B8%89%E7%AB%A0%20%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF/"/>
      <url>/2021/10/19/%E7%AC%AC%E4%B8%89%E7%AB%A0%20%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF/</url>
      
        <content type="html"><![CDATA[<img src="/img/图解TCP&IP/chapter3/思维导图.jpg" alt="思维导图" style="zoom:50%;" /><h2 id="数据链路的作用"><a href="#数据链路的作用" class="headerlink" title="数据链路的作用"></a>数据链路的作用</h2><p>数据链路层的协议定义了<strong>通过通信媒介互连的设备之间的传输规范</strong>，数据链路层处理的不是单纯的0,1序列，该层把他们集合为一个叫做<strong>帧</strong>（分组数据）的块，然后在进行传输的。</p><p>在以太网与FDDI(光纤分布式数据接口)的规范中，不仅包含ISO参考模型<strong>第二层数据链路层</strong>，也规定了<strong>第一层物理层</strong>的规格，而在ATM中(异步传输方式)规范中，还包含<strong>第三层网络层</strong>的一部分功能。</p><img src="/img/图解TCP&IP/chapter3/数据链路.jpg" style="zoom:50%;" /><blockquote><p><strong>数据链路层的主要作用：在互连同一种数据链路的节点之间进行包传递</strong></p></blockquote><h3 id="网络拓扑"><a href="#网络拓扑" class="headerlink" title="网络拓扑"></a>网络拓扑</h3><p><strong>网络的连接和构成的形态，包括总线型，环型，星型，网状型等。</strong></p><img src="/img/图解TCP&IP/chapter3/网络拓扑.jpg" style="zoom:50%;" /><h2 id="数据链路的相关技术"><a href="#数据链路的相关技术" class="headerlink" title="数据链路的相关技术"></a>数据链路的相关技术</h2><h3 id="MAC地址"><a href="#MAC地址" class="headerlink" title="MAC地址"></a>MAC地址</h3><p><strong>用于识别数据链路层中互连的节点</strong>，在以太网或FDDI中，根据规范使用MAC地址。在总线型与环路型的网络中，<strong>先暂时获取所有目标站的帧</strong>，然后在通过MAC 寻址：</p><img src="/img/图解TCP&IP/chapter3/MAC地址判断目标地址.jpg" style="zoom:50%;" /><p>MAC地址长<strong>48比特</strong>，在使用NIC的情况下，MAC地址一般会烧入到ROW中，所以<strong>任意一个MAC地址都是唯一的</strong>。</p><img src="/img/图解TCP&IP/chapter3/MAC地址格式.jpg" style="zoom:50%;" alt="IEEE802.3规范的MAC地址格式"/><blockquote><p>1.由于规范时没有限定数据链路的类型，因此无论哪种数据链路的网络，都不会用相同的MAC地址</p><p>2.相同数据链路下，MAC地址一定唯一；否则不一定（ex：虚拟机）</p></blockquote><h3 id="共享介质型网络"><a href="#共享介质型网络" class="headerlink" title="共享介质型网络"></a>共享介质型网络</h3><p>定义：<strong>多个设备共享一个通信介质的网络</strong>。</p><p>特点：半双工通信，即同一时间只有一台设备发送或接受数据。</p><p>应用：早期的以太网、FDDI</p><p>共享介质型网络可以根据介质访问控制分为争用方式和令牌传递方式。</p><h4 id="争用方式"><a href="#争用方式" class="headerlink" title="争用方式"></a>争用方式</h4><p>是指争夺获取数据传输的权利，也称<strong>CSMA(载波监听多路访问)，</strong>通常令网络中的各个站采用<strong>先到先得</strong>的方式占用信道发送数据，但<strong>多站同时发送帧，产生冲突现象。</strong></p><img src="/img/图解TCP&IP/chapter3/争用方式.jpg" style="zoom:50%;" /><p><strong>改良：⭐CSMA/CD，即要求每个站提前检查冲突，一旦发送冲突，则尽早释放信道。</strong></p><blockquote><p>冲突检测通过同轴线缆的电压检查实现</p></blockquote><img src="/img/图解TCP&IP/chapter3/CSMA.jpg" style="zoom:50%;" /><h4 id="令牌传递方式"><a href="#令牌传递方式" class="headerlink" title="令牌传递方式"></a>令牌传递方式</h4><p>沿着令牌环发送一种叫做“<strong>令牌</strong>”的特殊报文，控制传输的一种，<strong>只有获得令牌的站才能发送</strong>。这种方式有两个特点:一是<strong>不会有冲突</strong>，二是每个站都有通过<strong>平等循环</strong>获得令牌的机会。因此，即使网络拥堵也不会导致性能下降。</p><blockquote><p>缺点：因为按照令牌环顺序依次传递，因此网络不太拥堵时数据链路的利用率低。</p><p>解决：令牌追加、多个令牌同时循环等。</p></blockquote><img src="/img/图解TCP&IP/chapter3/令牌传递方式.jpg" style="zoom:50%;" /><h3 id="非共享介质网络"><a href="#非共享介质网络" class="headerlink" title="非共享介质网络"></a><strong>非共享介质网络</strong></h3><p>定义：不共享介质，对介质采用<strong>专用</strong>的一种传输控制方式。</p><p>特点：<strong>全双工通信方式</strong>，即网络中的每个站直连<strong>交换机</strong>，由<strong>交换机负责转发数据帧</strong>，发送端与接受端不共享通行介质，也可以根据交换机的高级特性构建虚拟局域网(VLAN),进行流量控制。</p><p>应用：<strong>以太网主流的方式</strong>、ATM</p><img src="/img/图解TCP&IP/chapter3/非共享介质网络.jpg" style="zoom:50%;" /><h3 id="半双工与全双工通信"><a href="#半双工与全双工通信" class="headerlink" title="半双工与全双工通信"></a>半双工与全双工通信</h3><ul><li><p>半双工：只发送或者只接受的通行方式，类似与无线电收发器，两端同时说话，听不见对方说话，而全双工不同，允许在同一时间即可以发送数据也可以接受数据，类似与电话。</p></li><li><p>全双工通信；在使用交换机与<strong>双绞线电缆（或光纤电缆）</strong>的情况，即可以通过交换机的端口与计算机之间进行一对一的连接，也可以通过<strong>相连电缆内部的收发线路分别进行接受和发送数据</strong>，即实现同时收发的全双工通信。</p><img src="/img/图解TCP&IP/chapter3/全双工.jpg" style="zoom:50%;" /></li></ul><blockquote><p>双绞线一般包着8个芯线</p></blockquote><h3 id="根据MAC地址转发"><a href="#根据MAC地址转发" class="headerlink" title="根据MAC地址转发"></a>根据MAC地址转发</h3><p><strong>非介质共享型网络</strong>使用的<strong>交换机</strong>应用在以太网中的技术，又称<strong>以太网交换机</strong>，它根据数据链路层中每个帧的目标MAC地址，决定从那个网络端口发送数据（根据<strong>转发表Forwarding Table</strong>），数据链路层的每个通过点在接到包时，会从中将<strong>源MAC地址以及曾经接收该地址发送的数据包的接口作为对应关系记录到转发表中</strong>，以某个MAC地址作为源地址的包由一接口接收，实际上可以理解为该MAC地址就是该接口的目标。可说该MAC地址作为目标地址的包，经由该接口送上出即可，这一过程称<strong>交换机的自学过程</strong>。</p><img src="/img/图解TCP&IP/chapter3/交换机自学过程.jpg" style="zoom:50%;" /><blockquote><p>转发表可以根据数据链路的类型进行分层，便于快速检索</p></blockquote><p>交换机的<strong>转发方式</strong>：一种叫做<strong>存储转发</strong>，另一种叫<strong>直通转发</strong></p><blockquote><p>交换机会对接受到的数据进行拆包检查</p></blockquote><img src="/img/图解TCP&IP/chapter3/转发方式.jpg" style="zoom:50%;" /><h3 id="环路检测技术"><a href="#环路检测技术" class="headerlink" title="环路检测技术"></a><strong>环路检测技术</strong></h3><p>原因：通过网桥连接网络时，由于<strong>网桥会将数据帧拷贝到相连的链路</strong>，一旦出现<strong>环路</strong>，<strong>数据帧会一直被循环转发</strong>。</p><p>处理：<strong>具体有生成树与源路由两种方式</strong>。如果使用具有这些功能的网桥,那么即使构建了一个带有环路的网络,也不会造成那么严重的问题。只要搭建合适的环路,就能分散网络流量,在发生某一处路由故障时选择绕行,可以提高容灾能力。</p><img src="/img/图解TCP&IP/chapter3/环路检测.jpg" style="zoom:50%;" /><h3 id="VLAN（虚拟局域网）"><a href="#VLAN（虚拟局域网）" class="headerlink" title="VLAN（虚拟局域网）"></a>VLAN（虚拟局域网）</h3><p><strong>交换机按照其端口区分了多个网段,从而区分了广播数据传播的范围、减少了网络负载并提高了网络的安全性。然而异构的两个网段之间,就需要利用具有路由功能的交换机(如3层交换机),或在各段中间通过路由器的连接才能实现通信。</strong></p><blockquote><p>当需要划分不同网段时，不必改造硬件线路，用3层交换机代替2层交换机即可以解决。</p></blockquote><img src="/img/图解TCP&IP/chapter3/VLAN.jpg" style="zoom:50%;" /><p><strong>VLAN ID可以唯一表示每个网段，当交换机传输帧时，交换机会在以太网首部中加入VID标签，根据这个值决定将数据帧发送给哪个网段。</strong></p><h2 id="以太网"><a href="#以太网" class="headerlink" title="以太网"></a>以太网</h2><p>优点：<strong>以太网规范简单，易于NIC(网卡)即驱动程序实现。</strong></p><p>类型：一般的以太网，IEEE802.3规范的以太网。</p><blockquote><ul><li><strong>传输速度与计算机内部的表现值，2^10 ==1000;1k = 1024;1M = 1024k;1G = 1024M;</strong></li><li><strong>传输速率：1k = 1000,1M =1000k; 1G = 1000M;</strong></li></ul></blockquote><h3 id="以太网的帧格式"><a href="#以太网的帧格式" class="headerlink" title="以太网的帧格式"></a>以太网的帧格式</h3><p><strong>前导码</strong>（Preamble）: 以太网帧前端部分，表示<strong>一个以太网帧的开始</strong>，也是对端网卡能够确保与其同步的标志。在此之后才是以太网帧的本体。</p><img src="/img/图解TCP&IP/chapter3/前导码.jpg" style="zoom:50%;" /><p>以太网帧格式：</p><img src="/img/图解TCP&IP/chapter3/帧格式.jpg" style="zoom:50%;" /><p>目标MAC地址：<strong>存放目标工作站的物理地址（比如区间交换机MAC地址，不完全等于接受端MAC地址）</strong></p><p>源MAC地址：<strong>存放构造以太网帧的发送端工作站的物理地址</strong>（不完全等于源发送端MAC地址）</p><p>类型：上层协议类型。</p><p>FCS（Frame Check Sequence）:帧检验序列，<strong>检测帧的完整性</strong>。发送端与接受端计算的FCS值相同，可以判定接受的帧没有差错。</p><p><strong>帧根据以太网类型的不同</strong>：</p><p><strong>IEEE802.3以太网帧不同</strong>：原表示上层协议的字段表示<strong>帧长度</strong>；标识上层协议的字段在<strong>SNAP</strong>中。</p><p><strong>VLAN</strong>：交换机会追加VLAN ID。</p><img src="/img/图解TCP&IP/chapter3/VLAN帧.jpg" style="zoom:50%;" /><h3 id="数据链路的分层"><a href="#数据链路的分层" class="headerlink" title="数据链路的分层"></a>数据链路的分层</h3><p><strong>介质访问控制层（MAC层）</strong>：根据不同数据链路所<strong>特有的首部信息</strong>进行控制。</p><p><strong>逻辑链路控制层（LLC层）</strong>：根据不同数据链路所<strong>共有的帧头信息</strong>进行控制。</p><img src="/img/图解TCP&IP/chapter3/数据链路分层.jpg" style="zoom:50%;" /><blockquote><p><strong>帧通过不同的数据链路会发送变化：MAC层会发送变化，而LLC层不会变化！</strong></p></blockquote><h2 id="无线通信"><a href="#无线通信" class="headerlink" title="无线通信"></a>无线通信</h2><p><strong>无线通讯的种类</strong>：</p><img src="/img/图解TCP&IP/chapter3/无线通信的种类.jpg" style="zoom:50%;" /><p><strong>无线LAN的连接</strong>：</p><img src="/img/图解TCP&IP/chapter3/无线LAN连接.jpg" style="zoom:50%;" /><h2 id="PPP"><a href="#PPP" class="headerlink" title="PPP"></a>PPP</h2><p>Point-to-point Protocol是指<strong>点对点</strong>，即<strong>一对一连接的计算机协议</strong>，ppp相当于计算机OSI参考模型的<strong>第二层的数据链路层</strong>，ppp可以使用电话线，专用线，ATW线，在传输前，需要建立ppp连接。</p><p>ppp包括两个协议：一个是不依赖上层的LCP协议(Link Control Protocol)，另一个是依赖上层的NCP(Network Control Protocol)协议，如果上层为IP，则叫IPCP。LCP：主要负责建立和断开连接，设置最大接受单元(MRU)，设置验证协议(PAP或CHAP)，以及设置是否进行通行质量的监控，IPCP则负责IP地址设置以及是否进行TCP/IP首部压缩等设备。</p><h2 id="其他数据链路"><a href="#其他数据链路" class="headerlink" title="其他数据链路"></a>其他数据链路</h2><p><strong>ATM</strong>:（Asynchronous Transfer Mode）：是以一个叫做信元(5字节首部加48字节数据)的单位进行传输的数据链路，其线路占用时间短和能够高效传输大容量数据等特点主要用于<strong>广域网</strong>的连接，是一种<strong>面向连接</strong>的链路通讯前要设置通信线路。</p><p><strong>主要的数据链路类型</strong>：</p><img src="/img/图解TCP&IP/chapter3/数据链路类型.jpg" style="zoom:50%;" /><h2 id="公共网络"><a href="#公共网络" class="headerlink" title="公共网络"></a>公共网络</h2><h4 id="VPN"><a href="#VPN" class="headerlink" title="VPN"></a>VPN</h4><p><strong>虚拟专用网络</strong>（VPN）用于<strong>连接距离较远的地域</strong>。这种服务包括IP-VPN和广域以太网。</p><p>IP-VPN意指在IP网络(互联网)上建立VPN</p><blockquote><p>网络服务商提供一种在IP网络上使用MPLS技术构建VPN的服务。其中MPLS (Multiprotocol Label Switching,多协议标签交换)在IP包中附加一个叫做标签(Label”)的信息进行传输控制。每个用户的标签信息不同,因此在通过MPIS网时,可以轻松地判断出目标地址。这样一来就可以将多个不同用户的VPN信息通过MPIS网加以区分,形成封闭的私有网络。此外,还能进行用户级的带宽控制。</p></blockquote><img src="/img/图解TCP&IP/chapter3/VPN.jpg" style="zoom:50%;" /><p><strong>有时企业还可以在互联网上建立自己的VPN”,一般采用的是IPsec”技术</strong>。该方法对VPN通信中的IP包进行验证和加密,在互联网上构造一个封闭的私有网络。虽然这种方式可以利用价格低康的互联网通信线路,并且还可以根据自己的情况对数据进行不同级别的加密,但有时会受到网络拥堵的影响 。</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>第二章 TCP/IP基础知识</title>
      <link href="/2021/10/17/%E7%AC%AC%E4%BA%8C%E7%AB%A0%20TCPIP%E5%9F%BA%E7%A1%80/"/>
      <url>/2021/10/17/%E7%AC%AC%E4%BA%8C%E7%AB%A0%20TCPIP%E5%9F%BA%E7%A1%80/</url>
      
        <content type="html"><![CDATA[<img src="/img/图解TCP&IP/chapter2/思维导图.jpg" alt="思维导图" style="zoom:50%;" /><h2 id="TCP-IP的具体含义"><a href="#TCP-IP的具体含义" class="headerlink" title="TCP/IP的具体含义"></a>TCP/IP的具体含义</h2><p>TCP/IP是指利用IP进行通信时所必须用到的协议群的统称，也称为网际协议族。</p><img src="/img/图解TCP&IP/chapter2/协议群.jpg" style="zoom:50%;" /><blockquote><p>TCP/IP的标准化：开放性，实用性。</p></blockquote><h2 id="互联网基础知识"><a href="#互联网基础知识" class="headerlink" title="互联网基础知识"></a>互联网基础知识</h2><blockquote><p>互联网（The Internet）：将多个网络连接使其构成一个全世界互联的网络。</p></blockquote><h3 id="互联网与TCP-IP的关系"><a href="#互联网与TCP-IP的关系" class="headerlink" title="互联网与TCP/IP的关系"></a>互联网与TCP/IP的关系</h3><p>互联网进行通信时，需要相应的网络协议，TCP/IP原本就是为使用互联网而开发制定的协议族。因此，互联网的协议就是TCP/IP，TCP/IP就是互联网的协议。</p><h3 id="互联网的结构"><a href="#互联网的结构" class="headerlink" title="互联网的结构"></a>互联网的结构</h3><p>互联网中的每个网络都是由<strong>骨干网</strong>(BackBone)和<strong>末端网</strong>(Stub)组成的。每个网络之间通过<strong>NOC(网络控制中心)<strong>相连，运营商不同，网络连接方式也不同，连接</strong>异构网络</strong>需要<strong>IX网络交换中心</strong>的支持。</p><blockquote><p>ISP和区域网：连接互联网需要向ISP或区域网提出申请。</p></blockquote><img src="/img/图解TCP&IP/chapter2/互联网的结构.jpg" style="zoom:50%;" /><h2 id="TCP-IP协议分层模型"><a href="#TCP-IP协议分层模型" class="headerlink" title="TCP/IP协议分层模型"></a>TCP/IP协议分层模型</h2><img src="/img/图解TCP&IP/chapter2/分层模型.jpg" style="zoom:50%;" /><h3 id="各个分层的作用"><a href="#各个分层的作用" class="headerlink" title="各个分层的作用"></a>各个分层的作用</h3><h4 id="硬件-物理层"><a href="#硬件-物理层" class="headerlink" title="硬件(物理层)"></a>硬件(物理层)</h4><p>功能：负责数据传输的<strong>硬件</strong>。</p><blockquote><p>TCP/IP是在网络互连的设备之间能够通信的前提下才被提出的协议。</p></blockquote><h4 id="网络接口层-数据链路层"><a href="#网络接口层-数据链路层" class="headerlink" title="网络接口层(数据链路层)"></a>网络接口层(数据链路层)</h4><p>功能：连接操作系统与硬件的<strong>驱动程序</strong>。</p><p>利用以太网中的数据链路层进行通信，属于接口层，可当做让NIC起作用的“<strong>驱动程序</strong>”也无妨，<strong>驱动程序是在操作系统与硬件之间起桥梁作用的软件</strong>。计算机外围附加设备或扩展卡，不是直接插到电脑或者电脑的扩展槽上就能使用换需要相应的驱动程序的支持。</p><h4 id="互联网层-网络层"><a href="#互联网层-网络层" class="headerlink" title="互联网层(网络层)"></a>互联网层(网络层)</h4><p>功能：<strong>转发分包数据</strong>。</p><p>使用IP协议，将分组的数据包发送到目标地址，TCP/IP分层中的互连网层与传输层的功能通常由<strong>操作系统</strong>提供，尤其是<strong>路由器</strong>，它必须实现通过互联网转发分组数据包的功能，<strong>IP协议为分组交换的一组协议，但是它不具有重发机制，属于非可靠性传输协议，</strong></p><ul><li><p>IР：IP是跨越网络传送数据包，使整个互联网都能收到数据的协议。IP协议使数据能够发送到地球的另一端，这期间它使用IP地址作为主机的标识，虽然IP也是分组交换的一种协议,但是它不具有重发机制。即使分组数据包未能到达对端主机也不会重发。因此,属于非可靠性传输协议。</p></li><li><p>ICMP ：IP数据包在发送途中发生异常，无法到达，需要<strong>发给发送端一个异常通知</strong>，ICMP就是为这一功能而制定。</p></li><li><p>ARP：从分组数据包的IP地址中<strong>解析</strong>出物理地址（MAC）地址的一种协议。</p></li></ul><h4 id="传输层"><a href="#传输层" class="headerlink" title="传输层"></a>传输层</h4><img src="/img/图解TCP&IP/chapter2/传输层.jpg" style="zoom:50%;" /><p>功能：<strong>够让应用程序（的进程）之间实现通信</strong>。计算机内部,通常同一时间运行着多个程序。为此,必须分清是哪些程序与哪些程序在进行通信。识别这些应用程序的是<strong>端口号</strong>。</p><p>TCP是一种面向有连接的传输层协议，它保证两端通行主机之间的通信可达，正确处理传输过程中丢失的，传输顺序乱等异常情况。TCP能够有效利用带宽，缓解网络拥堵。建立与断开需要7次发包收包。</p><p>   <strong>tcp如何保证传输的可靠性</strong>：</p><ul><li>将应用数据<strong>分割</strong>为tcp认为合适发送的数据包。</li><li><strong>超时传送</strong>，当tcp发送一个段后，它会启动一个定时器，等待目的端确认受到这个报文段，如果没有收到确认，将重发这个报文段。</li><li>当tcp收到tcp链发送的的数据时，会发送一个<strong>确认</strong>，(对于收到的请求做一个确认)，这个请求不会立即发送，会推迟几秒</li><li>若tcp收到包，<strong>校验出包有错</strong>，丢弃报文段，不给出响应，tcp对端会重发。<br>对于失序数据进行重排序，然后交给应用层(tcp报文段作为ip数据报进行传输，而ip数据报的到达会失序，)因此tcp也可能失序。</li><li>对于重复数据，直接丢弃。</li><li>tcp可以进行<strong>流量控制</strong>，防止较快主机导致较慢主机的缓存区溢出</li></ul><blockquote><p>TCP需要建立连接，由此导致网络流量的浪费，不适合实时性较强的视频会议（音频、视频的数据量既定）等场合使用。</p></blockquote><p>UDP有别于TCP，它是一种面向无连接的传输层协议，常用与<strong>分组数据较少或多播，广播通信以及视屏通信</strong>。</p><h4 id="应用层"><a href="#应用层" class="headerlink" title="应用层"></a>应用层</h4><p>TCP/IP分层中将OSI参考模型中会话层<strong>，表示层和应用层的功能都集中到了应用程序中实现，包括万维网，电子邮件，文件传输(FTP)，远程登录，网络管理。</strong></p><img src="/img/图解TCP&IP/chapter2/应用层.jpg" style="zoom:50%;" /><p><strong>万维网</strong></p><img src="/img/图解TCP&IP/chapter2/万维网.jpg" style="zoom: 33%;" /><blockquote><p>HTTP属于OSI应用层的协议，HTML属于表示层</p></blockquote><p><strong>电子邮件（SMTP）</strong></p><img src="/img/图解TCP&IP/chapter2/电子邮件.jpg" style="zoom:33%;" /><blockquote><p>MIME协议规定电子邮件的格式，属于表示层</p></blockquote><p><strong>文件传输（FTP）</strong></p><img src="/img/图解TCP&IP/chapter2/文件传输.jpg" style="zoom:33%;" /><blockquote><p>HTTP也可以进行文件传输</p></blockquote><p><strong>远程登录（TELNET与SSH）</strong></p><img src="/img/图解TCP&IP/chapter2/远程登录.jpg" style="zoom:33%;" /><p><strong>网络管理（SNMP）</strong></p><img src="/img/图解TCP&IP/chapter2/网络管理.jpg" style="zoom:33%;" /><blockquote><p>SNMP属于应用层协议</p></blockquote><h2 id="TCP-IP分层模型与通信示例"><a href="#TCP-IP分层模型与通信示例" class="headerlink" title="TCP/IP分层模型与通信示例"></a>TCP/IP分层模型与通信示例</h2><h4 id="数据包首部"><a href="#数据包首部" class="headerlink" title="数据包首部"></a>数据包首部</h4><p><strong>每个分层中，都会对所发送的数据附件一个首部，在这个首部中包含了该层次必要的信息，如发送的目标地址以及协议相关信息。</strong></p><img src="/img/图解TCP&IP/chapter2/数据包层次化.jpg" style="zoom:50%;" /><p>包，数据帧，数据报，段，消息：包为<strong>全能性术语</strong>，帧表示<strong>数据链路层</strong>中包的单位，而数据报是IP和UDP 等<strong>网络层</strong>以上的分层中包的单位，段则表示TCP数据中流的信息，消息是指应用协议中数据的单位。</p><p>包首部就想协议的脸：网络中传输的数据包由两部分组成，首部加数据。在数据包的首部，<strong>标明协议如何读取数据</strong>。</p><h4 id="发送数据包"><a href="#发送数据包" class="headerlink" title="发送数据包"></a>发送数据包</h4><p>假设发送邮件</p><ol><li><p>应用程序处理，应用程序会进行<strong>编码处理</strong>(OSI表示层)，建立通信连接发送数据(OSI会话层)，在发送邮件的时候建立TCP连接。</p></li><li><p>TCP模块处理，TCP根据应用的指示，负责建立连接，发送数据以及断开连接，TCP提供将应用层发来的数据帧顺利的发送到对端的可靠传输。需要在应用层数据前端附件TCP首部，**包含源端口号和目标端口号，分组序号(发送的是包中那部分数据)以及校验和(判断数据是否损坏)**，之后将附加TCP首部的包发给IP。</p></li><li><p>IP模块处理：将TCP传过来的TCP首部和TCP数据合起来当做自己的数据，并在TCP首部的前端在<strong>加上自己的IP首部，IP首部中包含接受端IP地址和发送端IP地址，还有用来判断其后数据是TCP还是UDP的信息</strong>。IP包生成后参考路由控制表决定接受此IP包的路由或主机，IP包将被发送给连接路由器或主机网络接口的驱动程序，可以利用ARP查找IP地址对应的MAC地址。</p></li><li><p>网络接口（以太网驱动）的处理：从IP传过来IP包，对于以太网驱动来讲，就是数据，在数据上附加以太网首部并进行发送处理，<strong>以太网首部中包含接受端的MAC地址，发送端MAC地址以及标志以太网类型的以太网数据协议</strong>，以太网数据包通过物理层传输给接收端。FCS（Fram Check Sequence）由硬件计算，添加到包的最后（<strong>判断数据包是否被破坏</strong>）。</p></li></ol><img src="/img/图解TCP&IP/chapter2/发送处理.jpg" style="zoom:50%;" /><h4 id="经过数据链路层的包"><a href="#经过数据链路层的包" class="headerlink" title="经过数据链路层的包"></a><strong>经过数据链路层的包</strong></h4><p>每个包首部中至少都会有两个信息，一个为发送端和接受端地址，另一个为上一层协议类型，</p><p>以太网会用<strong>Mac地址</strong>，IP会用到<strong>IP地址</strong>，而TCP/UDP则会用<strong>端口号</strong>作为识别两端主机的地址。</p><p><strong>每个分层的包首部中还包含一个识别位,它是用来标识上一层协议的种类信息</strong>。例如以太网的包首部中的以太网类型, IP中的协议类型以及TCP/UDP中两个端口的端口号等都起着识别协议类型的作用。就是在应用的首部信息中,有时也会包含一个用来识别其数据类型的标签。</p><img src="/img/图解TCP&IP/chapter2/包结构.jpg" style="zoom:50%;" /><blockquote><p>包的最后还追加了以太网包尾（Ethernet Trailer）</p></blockquote><h4 id="数据包的接受处理"><a href="#数据包的接受处理" class="headerlink" title="数据包的接受处理"></a><strong>数据包的接受处理</strong></h4><p>数据包接受处理：包的接受流程是发送端的<strong>逆序过程</strong></p><ol><li><p>网络接口(以太网驱动)的处理：主机收到以太网包后，会从以太网的包首部找到<strong>MAC地址</strong>判断是否发给自己的包，不是丢弃数据。是就查找以太网包首部中的类型域从而确定以太网协议所传送过来的数据类型，</p></li><li><p>IP模块的处理：即如果判断得出包首部中的<strong>IP地址</strong>与自己的IP地址匹配，则可接受并从中查找上一层协议，如果为TCP就给TCP处理，如果为UDP就给UDP处理，对于有<strong>路由器</strong>的情况，<strong>接收端地址往往不是自己的地址，此时，需要借助路由控制表，在调查应该送往的主机或路由器</strong>。</p><blockquote><p>当前接收端为路由器时，MAC地址是路由器地址，IP地址是目标主机地址<br><strong>即在通信过程中,ip始终是目的ip地址,不会发送变化;MAC地址是每一段区间的末地址,会发送变化</strong></p></blockquote></li><li><p>TCP模块处理，首先会计算一下<strong>校验和</strong>，判断是否被破坏，然后检查是否是<strong>按照序号</strong>接收数据，最后检查<strong>端口号</strong>，确定具体的应用程序。数据接收完成会返送“<strong>确认回执</strong>”，若接收端未能接收，发送端会一直发送。</p></li><li><p>应用程序的处理：接收端应用程序会直接接收发送端发送的数据，如果未能成功接收，就发送一个“<strong>处理异常</strong>”的回执给发送端。</p></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>第一章 网络基础知识</title>
      <link href="/2021/10/15/%E7%AC%AC%E4%B8%80%E7%AB%A0%20%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
      <url>/2021/10/15/%E7%AC%AC%E4%B8%80%E7%AB%A0%20%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/</url>
      
        <content type="html"><![CDATA[<img src="/img/图解TCP&IP/思维导图/chapter1.jpg" alt="思维导图" style="zoom: 33%;" /><h1 id="计算机网络出现的背景"><a href="#计算机网络出现的背景" class="headerlink" title="计算机网络出现的背景"></a>计算机网络出现的背景</h1><h2 id="计算机网络按规模分类"><a href="#计算机网络按规模分类" class="headerlink" title="计算机网络按规模分类"></a>计算机网络按规模分类</h2><ol><li><strong>广域网（WAN）</strong>。也称远程网。关于网提供长距离通信，通常是几十千米到几千千米的区域，比如跨国通信。连接关于网的各结点交换机的链路一般都是高速链路，具有较大的通信容量。</li><li>城域网（MAN）。覆盖范围跨越几个街区甚至整个城市，覆盖范围约5~50km，城域网大多采用以太网技术，因此有时也常并入局域网的范围进行讨论。</li><li><strong>局域网（LAN）</strong>。范围几十米到几千米的区域，比如一个楼层、一栋楼、一个校园。一般用微机或工作站通过高速线路相连。传统上，局域网使用广播技术，而广域网使用交换技术。</li><li>个人区域网（PAN）。覆盖范围大约十米左右。指在个人工作的地方将消费电子设备（如平板电脑、智能手机等）用无线技术连接起来的网络，也常称为无线个人区域网（WPAN）。</li></ol><img src="/img/图解TCP&IP/chapter1/规模分类.png" style="zoom: 50%;" /><h1 id="计算机与网络发展的7个阶段"><a href="#计算机与网络发展的7个阶段" class="headerlink" title="计算机与网络发展的7个阶段"></a>计算机与网络发展的7个阶段</h1><ol><li><p>批处理(Batch Processing) ：一台计算机按顺序批量执行多个操作</p><img src="/img/图解TCP&IP/chapter1/chapter1\批处理.jpg" style="zoom:33%;" /></li><li><p>分时系统(Time Sharing System TSS)：多个终端连接端同一台计算机</p><img src="/img/图解TCP&IP/chapter1/分时系统.jpg" style="zoom:25%;" /></li><li><p>计算机之间的通信：同一公司的不同计算机建立连接</p><img src="/img/图解TCP&IP/chapter1/计算机之间的通信.jpg" style="zoom:25%;" /></li><li><p>计算机网络的产生：不同公司的计算机建立连接</p><img src="/img/图解TCP&IP/chapter1/计算机网络的产生.jpg" style="zoom:25%;" /></li><li><p>互联网的普及：不同厂商向互联网兼容</p><img src="/img/图解TCP&IP/chapter1/互联网的普及.jpg" style="zoom: 33%;" /></li><li><p>以互联网技术为中心的时代</p></li><li><p>以TCP/IP为中心的网络时代</p></li></ol><h1 id="协议"><a href="#协议" class="headerlink" title="协议"></a>协议</h1><h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><p>计算机与计算机之间通过网络实现通信时事先达成的一种<strong>约定或规范</strong>。是不同的厂商设备，不同的CPU,不同的操作系统的计算机，<strong>只要遵循相同的协议就能够实现通讯</strong>。</p><h2 id="协议由谁规定"><a href="#协议由谁规定" class="headerlink" title="协议由谁规定"></a>协议由谁规定</h2><p><strong>ISO”制定了一个国际标准OSl”,对通信系统进行了标准化</strong>。现在, OSI所定义的协议虽然并没有得到普及,但是在OSI协议设计之初作为其指导方针的OSI参考模型却常被用于网络协议的制定当中。</p><h2 id="各种网络体系结构及协议"><a href="#各种网络体系结构及协议" class="headerlink" title="各种网络体系结构及协议"></a>各种网络体系结构及协议</h2><img src="/img/图解TCP&IP/chapter1/协议簇.jpg" style="zoom:50%;" /><h1 id="OSI参考模型"><a href="#OSI参考模型" class="headerlink" title="OSI参考模型"></a>OSI参考模型</h1><h2 id="协议的分层"><a href="#协议的分层" class="headerlink" title="协议的分层"></a>协议的分层</h2><p>OSI参考模型将通信协议中必要的功能分为<strong>7层</strong>，每个分层都接受由它下一层所提供的特定服务，并且为自己的上一层提供特定的服务，<strong>上下层</strong>之间进行交互的是所遵循的约定叫做“<strong>接口</strong>”（不同模块相互独立）。<strong>同一层</strong>之间的交互所遵循的约定叫做“<strong>协议</strong>”。（相同模块相互兼容）</p><img src="/img/图解TCP&IP/chapter1/协议分层.jpg" style="zoom:33%;" /><h2 id="各个分层的作用"><a href="#各个分层的作用" class="headerlink" title="各个分层的作用"></a>各个分层的作用</h2><ol><li><p><strong>应用层</strong>（Application Layer）：<strong>为应用程序提供服务并规定通信相关的细节</strong>。针对特定应用的协议，包括文件传输，电子邮件，远程登录等协议。</p><img src="/img/图解TCP&IP/chapter1/OSI7.jpg" style="zoom:50%;" /></li><li><p><strong>表示层</strong>（Presentation Layer）：<strong>数据格式的转换</strong>(编码格式、压缩与恢复、加密与解密)。将设备固有的数据格式转换为网络标准传输格式，不同设备对同一比特流的解释可能不同，使他们保持一致。</p><img src="/img/图解TCP&IP/chapter1/OSI6.jpg" style="zoom:50%;" /></li><li><p><strong>会话层</strong>（Session Layer）：<strong>通信管理</strong>，负责建立和断开通信连接(数据流动的逻辑通路)，管理传输层以下的分层，以及数据的分割等数据传输相关的管理。(何时建立/断开连接，保持多久的连接；<strong>只负责决策时机</strong>，不负责实际建立/断开)</p><img src="/img/图解TCP&IP/chapter1/OSI5.jpg" style="zoom:50%;" /></li><li><p><strong>传输层</strong>（Transport Layer）：<strong>负责不同主机中两个进程之间的通信</strong>，功能是为<strong>端到端</strong>连接提供<strong>可靠</strong>的传输服务，比如：流量控制、差错控制、服务质量、数据传输管理等。</p><blockquote><ul><li><p>数据链路层和网络层是点到点的通信，传输层是端到端的通信</p></li><li><p>点到点：可以理解为<strong>主机到主机</strong>之间的通信，一个点指一个<strong>硬件地址或IP地址</strong>，网络中参与通信的主机通过硬件地址或IP地址标识的；</p></li><li><p>端到端：指运行在<strong>不同主机内的两个进程</strong>之间的通信，一个进程由一个<strong>端口号</strong>来标识，所以称端到端</p><p>通信</p></li></ul></blockquote><img src="/img/图解TCP&IP/chapter1/OSI4.jpg" style="zoom:50%;" /></li><li><p><strong>网络层</strong>（Network Layer）：<strong>负责点到点的通信</strong>。将数据传输到目标地址，目标地址可以是多个网络通过路由器连接的而成的某一个地址，负责<strong>地址管理</strong>和<strong>路由选择</strong>。（经过哪个路由传递到目标地址）</p><img src="/img/图解TCP&IP/chapter1/OSI3.jpg" style="zoom:50%;" /></li><li><p><strong>数据链路层</strong>（Data Link Layer）：<strong>负责物理层面上的互连的节点之间的通信</strong>。将0，1序列划分为具有意义的数据帧传送给接收端。(数据帧的生成与接收，数据帧与比特流的之间的转换）</p><img src="/img/图解TCP&IP/chapter1/OSI2.jpg" style="zoom:50%;" /></li><li><p><strong>物理层</strong>（Physical Layer）：<strong>负责物理介质上实现0,1比特流与电子信号的互换与传输</strong>。界定连接器与网络的规格。</p><img src="/img/图解TCP&IP/chapter1/OSI1.jpg" style="zoom:50%;" /></li></ol><h2 id="通信处理举例"><a href="#通信处理举例" class="headerlink" title="通信处理举例"></a>通信处理举例</h2><h2 id="7层OSI模型，如何模块化通信传输"><a href="#7层OSI模型，如何模块化通信传输" class="headerlink" title="7层OSI模型，如何模块化通信传输"></a>7层OSI模型，如何模块化通信传输</h2><p>在每个分层上，发送端添加首部包装信息，经过路由器，接受端分离首部恢复数据。</p><img src="/img/图解TCP&IP/chapter1/通信与7个分层.jpg" style="zoom: 33%;" /><h2 id="会话层以上处理"><a href="#会话层以上处理" class="headerlink" title="会话层以上处理"></a>会话层以上处理</h2><ul><li><p><strong>应用层</strong>：负责将目标地址、源地址等首部信息(请求行)附加到发送内容(请求报文)。</p><img src="/img/图解TCP&IP/chapter1/应用层的工作.jpg" style="zoom:33%;" /></li><li><p><strong>表示层</strong>：数据的格式化。将数据特有的格式转换为网络标准的格式在发送出去，计算机接受到数据后再转换成自己的格式处理，即数据格式之间相互转换的分层。</p><img src="/img/图解TCP&IP/chapter1/表示层的工作.jpg" style="zoom:33%;" /></li><li><p><strong>会话层</strong>：决定采用哪种连接方式 、发送顺序。</p><img src="/img/图解TCP&IP/chapter1/会话层的工作.jpg" style="zoom:33%;" /></li></ul><h2 id="传输层以下处理"><a href="#传输层以下处理" class="headerlink" title="传输层以下处理"></a>传输层以下处理</h2><ul><li><p><strong>传输层</strong>：实际建立连接或断开连接，在两个主机之间创建逻辑上的通信连接，确保数据是否到达，没有到达则重发，保证数据传输的可靠性。</p><img src="/img/图解TCP&IP/chapter1/传输层的工作.jpg" style="zoom:33%;" /></li><li><p><strong>网络层</strong>：将数据从发送端主机发送到接收端主机。</p><img src="/img/图解TCP&IP/chapter1/网络层的工作.jpg" style="zoom: 50%;" /></li><li><p><strong>数据链路层</strong>：负责实现<strong>每一个区间内</strong>的通信。通信实际上是通过物理的传输介质实现的，数据链路层在传输介质互连的设备进行数据处理。相互直连的设备通过<strong>MAC（Media Access Control,介质访问控制）实现传输</strong>。这一层将MAC地址信息的首部附加到从网络层转发过来的数据上，将其发送到网络。</p></li><li><p><strong>物理层：将数据的01转换为电压和脉冲光传输给物理的传输介质</strong>。</p><img src="/img/图解TCP&IP/chapter1/数据链路层与物理层的工作.jpg" style="zoom:33%;" /></li></ul><h1 id="传输方式分类"><a href="#传输方式分类" class="headerlink" title="传输方式分类"></a>传输方式分类</h1><h2 id="面向有连接和无连接"><a href="#面向有连接和无连接" class="headerlink" title="面向有连接和无连接"></a>面向有连接和无连接</h2><ul><li><p><strong>面向有连接</strong>(ATM，帧中继，TCP等，在通信传输之前，先打开一个连接，关闭无法发送数据)：在通信传输前后，专门进行建立和断开连接的处理，没有连接则无法通信，避免发送无谓的数据。</p></li><li><p><strong>面向无连接</strong>(以太网，IP，UDP等协议，无需确认对端是否存在，发送端可随时发送数据。)：接受端需要确定是否收到了数据；因为不需要建立连接，传输速度快。</p></li></ul><img src="/img/图解TCP&IP/chapter1/面向连接.jpg" style="zoom:33%;" /><h2 id="电路交换与分组交换"><a href="#电路交换与分组交换" class="headerlink" title="电路交换与分组交换"></a>电路交换与分组交换</h2><h2 id="电路交换"><a href="#电路交换" class="headerlink" title="电路交换"></a>电路交换</h2><p>电路交换需要通过<strong>电路交换机</strong>建立一条<strong>专用</strong>的数据通信路径，这条路径上可能包含许多中间节点。这条通信路径在整个通信过程中将被<strong>独占</strong>，直到通信结束才会释放资源。电路交换适合<strong>实时性要求较高</strong>的大量数据传输的情况。</p><blockquote><p>优点：</p><ul><li>通信时延小。通信双方通过专用线路进行通信，数据可以直达。当数据传输量较大时，优点将十分显著。</li><li>线路独占，没有冲突。</li><li>实时性强。一旦通信线路建立，双方可以实时通信。</li></ul><p>缺点：</p><ul><li>线路独占，利用率太低。（并发数&gt;交换机通信线路数，则无法通信）</li><li>连接建立时间过长。</li></ul></blockquote><img src="/img/图解TCP&IP/chapter1/电路交换.jpg" style="zoom: 50%;" /><h2 id="分组交换"><a href="#分组交换" class="headerlink" title="分组交换"></a>分组交换</h2><blockquote><p><strong>TCP/IP采用分组交换！</strong></p></blockquote><p><strong>分组</strong>：将大数据分割为小的包(packet)进行传输，且在每个分组中附加报文首部(源主机地址、目标地址、分组序号)。</p><img src="/img/图解TCP&IP/chapter1/分组.jpg" style="zoom:33%;" /><p><strong>分组交换</strong>：让连接到通讯电路的计算机将所要发送的数据分成多个数据包，并按找一定顺序排列后分别发送。所有计算机可以一起发送数据，每个分组的首部写入了发送地址和接受地址。在分组交换中由<strong>分组交换机(路由器)<strong>连接通信线路，发送端将数据分组发送给路由器，路由器接收到这些分组的数据后会缓存在自己的</strong>缓存区</strong>，然后在转发给目标计算机，分组交换也称<strong>蓄积交换</strong>，路由器收到分组数据按照顺序缓存到相应的队列当中，以<strong>先进先出</strong>的顺序发送。计算机与路由器之间以及路由器与路由器之间只有一条通信线路(共享线路)。</p><img src="/img/图解TCP&IP/chapter1/分组交换.jpg" style="zoom: 50%;" /><h2 id="根据接收端数量分类"><a href="#根据接收端数量分类" class="headerlink" title="根据接收端数量分类"></a>根据接收端数量分类</h2><ul><li><p>单播(Unicast)：一对一通信。如早期固定电话。</p></li><li><p>广播(Broadcast)：一对所有通信。一台主机与广播范围(广播域)下其他所有主机通信，如电视播放。</p></li><li><p>多播(Multicast)：一对多通信。与广播类似，限定某一组主机作为接收端，如电视会议。</p></li><li><p>任播(Anycast)：一对特定一通信。指对接收端有选择的通信，与多播相似，选择一组主机中最优目标主机发送，选中主机返回单播信号，随后进行单播，如DNS根域名解析系统。</p><img src="/img/图解TCP&IP/chapter1/播放方式.jpg" style="zoom: 50%;" /></li></ul><h1 id="地址"><a href="#地址" class="headerlink" title="地址"></a>地址</h1><h2 id="唯一性"><a href="#唯一性" class="headerlink" title="唯一性"></a>唯一性</h2><p>地址对某一个对象或某一组对象具有唯一性</p><h2 id="层次性"><a href="#层次性" class="headerlink" title="层次性"></a>层次性</h2><p>MAC地址和IP地址在标识一个通信主体时虽然都具有唯一性，但是<strong>只有IP地址层次性</strong>，因此能够<strong>快速定位到目标地址</strong>。</p><p>IP地址有<strong>网络号</strong>和<strong>主机号</strong>两部分组成，即使通信主体的IP地址不同，若主机号不同，网络号相同，说明他们处于<strong>同一个网段</strong>，而网段相同的主机分布比较<strong>集中</strong>。</p><p>网络传输中，每个节点会根据分组数据的地址信息判断报文由那个网卡发送，为此，各个地址会参考一个发出接口列表(自动生成)，MAC寻址叫<strong>地址转发表</strong>(记录实际的MAC地址本身)，而IP寻址所参考的表叫<strong>路由控制表</strong>(记录集中之后的网络号与子掩码)。</p><blockquote><p>地址转发表和路由控制表能够获取的不是具体的目标地址，而是下一跳的地址信息</p></blockquote><img src="/img/图解TCP&IP/chapter1/层次性.jpg" style="zoom: 50%;" /><h1 id="网络的构成要素"><a href="#网络的构成要素" class="headerlink" title="网络的构成要素"></a>网络的构成要素</h1><p>​                                                               搭建网络的设备</p><table><thead><tr><th>网卡</th><th>使计算机联网的设备，</th></tr></thead><tbody><tr><td>中继器(Repeater)</td><td>从物理层上延长网络的设备</td></tr><tr><td>网桥(Bridge)/2层交换机(L2)</td><td>从数据链路层上延长网络的设备</td></tr><tr><td>路由器(Router)/3层交换机(L3)</td><td>从网络层转发分组数据的设备</td></tr><tr><td>4-7层交换机</td><td>处理传输层以上层网络传输的设备</td></tr><tr><td>网关(Gateway)</td><td>转换协议的设备</td></tr></tbody></table><img src="/img/图解TCP&IP/chapter1/网络的构成要素.jpg" style="zoom:50%;" /><h2 id="通信媒介与数据链路"><a href="#通信媒介与数据链路" class="headerlink" title="通信媒介与数据链路"></a>通信媒介与数据链路</h2><p>计算机之间通过<strong>电缆相互连接</strong>，电缆可分为<strong>双绞线电缆，光纤电缆，同轴电缆，串行电缆，媒介分电波，微波等不同的电磁波。</strong></p><blockquote><p>数据链路（Data link）：相互直连的设备之间进行通信所涉及的协议及其网络</p></blockquote><img src="/img/图解TCP&IP/chapter1/数据链路.jpg" style="zoom:50%;" /><h2 id="网卡"><a href="#网卡" class="headerlink" title="网卡"></a>网卡</h2><p>网络接口卡，也称网络适配器，网卡(NIC)，LAN卡，是<strong>集成了连接局域网功能的设备</strong>。</p><img src="/img/图解TCP&IP/chapter1/网卡.jpg" style="zoom: 50%;" /><h2 id="中继器-集线器"><a href="#中继器-集线器" class="headerlink" title="中继器(集线器)"></a>中继器(集线器)</h2><p>是在OSI模型的<strong>物理层</strong>上延长网络的设备，由电缆传过来的电信号或光信号经由中继器的<strong>波形调整和放大</strong>再传给另一个电缆。即使数据链路层出现某些错误，中继器任然转发数据。中继器无法改变传输速率。且不能在传输速度不同的媒介之间转发。</p><img src="/img/图解TCP&IP/chapter1/中继器.jpg" style="zoom:50%;" /><p><strong>集线器</strong>可以提供多个端口的服务。</p><img src="/img/图解TCP&IP/chapter1/集线器.jpg" style="zoom:50%;" /><h2 id="网桥-2层交换机"><a href="#网桥-2层交换机" class="headerlink" title="网桥/2层交换机"></a>网桥/2层交换机</h2><p><strong>数据链路层</strong>上连接<strong>两个</strong>网络的设备<strong>，基于MAC地址进行处理。根据数据帧的内容转发数据给相邻的其他网络。数据损坏不发送。没有连接网段个数的限制。一般连接相同类型的网络，也可以连接传输速率不同的网络</strong>。</p><blockquote><p>网桥连接<strong>不同</strong>的网络，交换机连接<strong>相同网段的不同主机</strong></p></blockquote><img src="/img/图解TCP&IP/chapter1/网桥.jpg" style="zoom:50%;" /><p>自学式网桥：可以记住曾经<strong>转发（不同网络间）</strong>的所有数据帧的MAC地址，并保存到内存表中，由此可以<strong>判断哪个网段中包含持有哪类MAC地址的设备</strong>，以及<strong>判断下次是否需要转发</strong>。</p><img src="/img/图解TCP&IP/chapter1/自学式网桥.jpg" style="zoom:50%;" /><p><strong>交换集线器</strong>可以提供多个端口的服务</p><h2 id="路由器-3层交换机"><a href="#路由器-3层交换机" class="headerlink" title="路由器/3层交换机"></a>路由器/3层交换机</h2><p>在网络层上连接两个网络，并<strong>对分组报文进行转发的设备，根据IP地址进行处理，路由器可以连接不同的数据链路，分担网络负荷的作用。</strong></p><img src="/img/图解TCP&IP/chapter1/路由器.jpg" style="zoom:50%;" /><h2 id="4-7层交换机"><a href="#4-7层交换机" class="headerlink" title="4~7层交换机"></a>4~7层交换机</h2><p><strong>处理传输层到应用层的数据</strong>。如负载均衡器，为了能通一个URL将前端的访问分发到后台的多个服务器上，可以在这些服务器的前端加一个负载均衡器(4–7层交换机的一种)。还可以提供带宽控制、访问加速等功能。</p><blockquote><p>负载均衡器：一个IP地址配置到同一个URL</p></blockquote><img src="/img/图解TCP&IP/chapter1/47交换机.jpg" style="zoom:50%;" /><blockquote><p>另一种负载均衡：DNS循环复用技术，多个IP地址配置到同一个URL。</p></blockquote><h2 id="网关"><a href="#网关" class="headerlink" title="网关"></a>网关</h2><p>从<strong>传输层到应用层的数据</strong>进行转换和转发的设备。负责对协议进行转换，通常使用表示层或者应用层网关，在两个不能进行直接通信的协议之间进行翻译，实现两者之间的通信。</p><img src="/img/图解TCP&IP/chapter1/网关.jpg" style="zoom:50%;" /><p><strong>代理服务器</strong>也是网关的一种，称为<strong>应用网关</strong>，客户端与服务器之间无需在网络层上直接通信，而是从传输层到应用层对数据和访问进行各种控制可处理，防火墙就是一款通过网关通行的产品。</p><img src="/img/图解TCP&IP/chapter1/代理服务器.jpg" style="zoom:50%;" /><h1 id="现代网络实态"><a href="#现代网络实态" class="headerlink" title="现代网络实态"></a>现代网络实态</h1><h2 id="网络的构成"><a href="#网络的构成" class="headerlink" title="网络的构成"></a>网络的构成</h2><img src="/img/图解TCP&IP/chapter1/网络整体组成.jpg" style="zoom:50%;" /><p>骨干或核心类似于高速公路，通常选择<strong>高速路由器</strong>相互连接使之快速传输大量数据，网络中相应于<strong>出入口的部分</strong>被称为<strong>边缘网络</strong>，常用功能路由器和3层交换机，连接边缘网络的部分被称为<strong>接入层</strong>或汇聚层，连接国外的网络或者连接跨域较宽的网络时，慢的原因是因为线路传输速率慢多网段连接或长距离连接。</p><h2 id="互联网通信"><a href="#互联网通信" class="headerlink" title="互联网通信"></a>互联网通信</h2><img src="/img/图解TCP&IP/chapter1/互联网服务.jpg" style="zoom:50%;" /><p>连接互联网之后，汇集到无线局域网路由器和最近的交换机事务通信会再次被连接到接入层。有时可直接连接边缘网络。</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>第一个文章</title>
      <link href="/2021/10/09/%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%96%87%E7%AB%A0/"/>
      <url>/2021/10/09/%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%96%87%E7%AB%A0/</url>
      
        <content type="html"><![CDATA[<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">   <span class="string">首页:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-home</span></span><br><span class="line">   <span class="string">时间轴:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-archive</span></span><br><span class="line">   <span class="string">标签:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-tags</span></span><br><span class="line">   <span class="string">分类:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-folder-open</span></span><br><span class="line">   <span class="string">生活||fas</span> <span class="attr">fa-list:</span></span><br><span class="line">     <span class="string">相册:</span> <span class="string">/photo/</span> <span class="string">||</span> <span class="string">far</span> <span class="string">fa-image</span></span><br><span class="line">     <span class="string">日记:</span> <span class="string">/note/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-sticky-note</span></span><br><span class="line">   <span class="string">友链:</span> <span class="string">/link/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-link</span></span><br><span class="line">   <span class="string">关于我:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-heart</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2021/10/09/hello-world/"/>
      <url>/2021/10/09/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
